<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MySQL Web</title>
    <link href={{ url_for('static', filename='css/bootstrap.css') }} rel="stylesheet" type="text/css">
    <script src={{ url_for("static", filename="jquery/jquery.min.js") }} type="text/javascript"></script>
    <script language="JavaScript">
        var timer = ""
        var my_url = "/mysql"

        function myrefresh(){
            $(document).ready(function(){
                htmlobj = $.ajax({url:my_url, async:false});
                $("#data").html(htmlobj.responseText);
            });
        }

        function stop(parameter, idName){
            myActive(idName)
            my_url = parameter
            myrefresh()
            stop_timer()
        }

        function start(parameter, idName){
            myActive(idName)
            my_url = parameter
            myrefresh()
            start_timer()
        }

        function start_timer(){
            stop_timer()
            timer = setInterval(myrefresh, 3000)
        }

        function stop_timer(){
            clearInterval(timer)
        }

        myrefresh()
        start_timer()

        function myActive(idName){
            if(idName == ""){
                return
            }
            $("#myTab").find("a").each(function() {
                if ($(this).attr("id") == idName) {
                    $(this).addClass("active");
                } else {
                    $(this).removeClass("active");
                }
            });
        }
    </script>
</head>
<body>
    <div class="container-fluid">

        <div class="row clearfix">
            <div class="col-md-12">
                <nav class="navbar navbar-default" role="navigation">
                    <div class="navbar-text center">
                        <h2>MySQL Web</h2>
                    </div>
                </nav>
            </div>
        </div>

        <div class="row clearfix">
            <div class="col-md-2 row">
                <div id="myTab" class="list-group">
                    <!--<a href="/mysqls" class="list-group-item"><span class="glyphicon glyphicon-cog">&nbsp;MySQL</span></a>
                    <a href="/status" class="list-group-item"><span class="glyphicon glyphicon-cog">&nbsp;Status</span></a>
                    <a href="/innodb" class="list-group-item"><span class="glyphicon glyphicon-file">&nbsp;INNODB</span></a>
                    <a href="/replication" class="list-group-item"><span class="glyphicon glyphicon-list-alt">&nbsp;Replication</span></a>
                    <a href="/host" class="list-group-item"><span class="glyphicon glyphicon-list-alt">&nbsp;Host</span></a>
                    <a href="/all" class="list-group-item"><span class="glyphicon glyphicon-align-right">&nbsp;ALL</span></a>
                    <a href="/charts" class="list-group-item"><span class="glyphicon glyphicon-align-right">&nbsp;Charts</span></a>-->

                    <!--<ul class="nav nav-tabs">
                      <li><a href="javascript:void(0)" data-toggle="tab" class="active" onclick=start("/mysql")> MySQL</a></li>
                      <li><a href="javascript:void(0)" data-toggle="tab" onclick=start("/status")> Status</a></li>
                      <li><a href="javascript:void(0)" data-toggle="tab" onclick=start("/innodb")> INNODB</a></li>
                      <li><a href="javascript:void(0)" data-toggle="tab" onclick=start("/replication")></i> Replication</a></li>
                      <li><a href="javascript:void(0)" data-toggle="tab" onclick=stop("/slowlog")> SlowLog</a></li>
                    </ul>-->


                    <a href="javascript:void(0)" id="mysql" class="list-group-item active" onclick=start("/mysql","mysql")><span class="glyphicon glyphicon-home"> MySQL</span></a>
                    <a href="javascript:void(0)" id="status" class="list-group-item" onclick=start("/status","status")><span class="glyphicon glyphicon-cog"> Status</span></a>
                    <a href="javascript:void(0)" id="innodb" class="list-group-item" onclick=start("/innodb","innodb")><span class="glyphicon glyphicon-file"> INNODB</span></a>
                    <a href="javascript:void(0)" id="repl" class="list-group-item" onclick=start("/replication","repl")><span class="glyphicon glyphicon-list-alt"> Replication</span></a>
                    <a href="javascript:void(0)" id="os" class="list-group-item" onclick=start("/os","os")><span class="glyphicon glyphicon-list-alt"> OS</span></a>
                    <a href="javascript:void(0)" id="slowlog" class="list-group-item" onclick=stop("/slowlog","slowlog")><span class="glyphicon glyphicon-list-alt"> SlowLog</span></a>
                </div>
            </div>
            <div class="col-md-10" id="data">
                {% block content %} {% endblock %}
            </div>
        </div>
    </div>
</body>
</html>